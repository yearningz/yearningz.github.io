---
layout: post
title: 自动化测试框架调研
key: 201801013
tags: 前端 自动化测试
---      
### 讨论  
1. 成本>>产出
2. 界面改版过多
3. 环境依赖
4. 报错信息提示不易记录

### 目标  
 
1.UI 测试   
测试关注点不在内部实现方式，而是测试产品在真实使用场景（比如在浏览器）中是否可以达到预想的结果。   
可自动在特定环境中模拟用户行为。   
2.视觉 测试   
允许屏幕截图和设计图进行比较   
3.脚本简单，可维护。   
4.可以生成可视化测试结果报告   
5.支持真机和模拟器   
6.。。。
### 方向一 客户端 测试 Macaca框架    
[官网](https://macacajs.github.io/zh/)   
   
**优点**    
1. Macaca 支持主流的移动技术平台 iOS，Android，以及两大平台的混合运行时 Webview，也支持以往的桌面端浏览器。        
2. 可与客户端监控平台集成。    

**缺点**      

* 官网、论坛和文档较少，git star数少，坑未知。 
* 强依赖客户端 
* 使用公司仅限于阿里系         

**macaca 模块** 
![img](http://ww2.sinaimg.cn/large/6b65a607gw1fai803sahcj21ez0s1tis.jpg)  

**macaca 执行流程图** 
![img](http://ww2.sinaimg.cn/large/6b65a607gw1fai80e6lxpj21ft0rhk0e.jpg)  

### 方向二 web端 测试

ios客户端:UIWebView（IOS对WebKit的封装）   
Android客户端：chrome 内核（WebKit）  

|    对比项          | Puppeteer | Selenium | TestCafe |  
| :----------: | :-----:| :-----:|  :-----:|   
| 社区|Chrome团队维护|Web自动化测试一哥 ，学习资料非常多|较新的工具，官方提供了详细的学习资料，Github上Start人数也超过5K|
|支持语言|nodejs|java,python,ruby,Node.js......|JavaScript,TypeScript|
|支持的浏览器|Chrome 浏览器|	Chrome,IE,Firefox,Safari,Edge等有Driver的浏览器都支持	|支持所有能支持JS的浏览器，也就意味着支持多端|
|完善性	|自身就是一个完整的自动化测试框架|需要跟其它框架结合使用，如TestNG等	|自身就是一个完整的自动化测试框架|
|star	|46590|13668|6362|  
 
 [Puppeteer 初探](https://juejin.im/post/59e5a86c51882578bf185dba)
  
 1) [jest](https://reactnative.cn/docs/0.42/testing/)   
  
1. 官方出品，适用于react写的页面。       
2. 支持集成测试、单元测试、快照测试
 
2)[mocha](https://mochajs.org/)   
[mocha基础内容](http://naotu.baidu.com/file/73de004c1580a35f062f3b23cf10b085?token=63e89869ccf25260)   
 
3)[Jasmine](https://jasmine.github.io/)
  
[JavaScript 单元测试框架：Jasmine, Mocha, AVA, Tape 和 Jest 的比较](https://juejin.im/post/5acc721a6fb9a028b77b23c9)
     
        


参考内容：  
[美团技术团队-自动化测试研究](https://tech.meituan.com/2017/06/23/mobile-app-automation.html)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
[IBM基于 Rational Functional Tester 的 GUI 测试](https://www.ibm.com/developerworks/cn/rational/r-cn-guiautotesting1/index.html)  
[客户端自动化测试小探索](https://juejin.im/entry/5816fe4e67f3560058680da6)  
[展望 2018 年 JavaScript Testing](https://zhuanlan.zhihu.com/p/32702421)  
[11 Best Mobile App Testing Tools For Android & IOS In 2018](https://magnetoitsolutions.com/blog/mobile-app-testing-tools-for-android-ios)
